input {
	beats {
         port => 5044
    }
	# tcp {
	# 	port => 5000
	# }
}

## Add your filters / logstash plugins configuration here
filter {  
    grok {
      match => { "message" => "%{TIMESTAMP_ISO8601:logtimestamp} - %{LOGLEVEL:loglevel}[:] %{GREEDYDATA:logmessage}" }
      add_field => [ "received_at", "%{@timestamp}" ]
      add_field => [ "received_from", "%{host}" ]
    }  
}

output {
	elasticsearch {
		hosts => "elasticsearch:9200"
		user => elastic
		password => changeme
	}
	stdout { codec => rubydebug }
}
